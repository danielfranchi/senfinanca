(this["webpackJsonpsenfinanca-app"]=this["webpackJsonpsenfinanca-app"]||[]).push([[0],{15:function(e,t,n){e.exports={form:"Home_form__1H-gv",table:"Home_table__2XRYL",home:"Home_home__1PuUl",demonstrative:"Home_demonstrative__1vK8u"}},16:function(e,t,n){e.exports={table:"Demonstrative_table__dFjoZ",container:"Demonstrative_container__zPjlh",saldo:"Demonstrative_saldo__kn261",voltar:"Demonstrative_voltar__1sacz"}},18:function(e,t,n){e.exports={header:"Header_header__21MJt",headerUser:"Header_headerUser__11fZy",pointer:"Header_pointer__3Hdlm"}},34:function(e,t,n){e.exports={container:"Extract_container__39Xxr"}},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(32),r=n.n(s),i=n(11),l=n(3),j=n(18),o=n.n(j),d=n(1),u=function(){return Object(d.jsxs)("header",{className:o.a.header,children:[Object(d.jsx)("h2",{className:o.a.pointer,style:{color:"white"},children:"SenFinan\xe7a"}),Object(d.jsxs)("div",{className:o.a.headerUser,children:[Object(d.jsx)("span",{children:"Daniel Franchi"}),Object(d.jsx)("p",{children:"DF"})]})]})},b=n(14),O=n(4),h=n(33),x=n.n(h).a.create({baseURL:"https://api-rest-finance.herokuapp.com/"}),p=Object(c.createContext)(),f=function(e){var t=e.children,n=Object(c.useState)(null),a=Object(O.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(null),l=Object(O.a)(i,2),j=l[0],o=l[1],u=Object(c.useState)(null),h=Object(O.a)(u,2),f=h[0],m=h[1];Object(c.useEffect)((function(){x.get("finances").then((function(e){return r(e.data)}))}),[r]),Object(c.useEffect)((function(){null!==j&&x.post("finances",j).then((function(e){return r([].concat(Object(b.a)(s),[e.data]))}))}),[j]);return Object(d.jsx)(p.Provider,{value:{financeData:s,setFinanceData:r,addTransaction:j,setAddTransaction:o,deleteTransaction:function(e){x.delete("finances/".concat(e)).then((function(t){if(200===t.status||201===t.status){var n=Object(b.a)(s).filter((function(t){return t.id!==e}));r(n)}}))},update:f,setUpdate:m},children:t})},m=n(34),v=n.n(m),g=function(){var e=Object(c.useContext)(p).financeData,t=Object(c.useState)(null),n=Object(O.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(null),i=Object(O.a)(r,2),l=i[0],j=i[1],o=a-l;return Object(c.useEffect)((function(){var t=null!==e&&e.map((function(e){return"entrada"===e.type&&Number(e.value)})).reduce((function(e,t){return e+t}),0);s(t)}),[e]),Object(c.useEffect)((function(){var t=null!==e&&e.map((function(e){return"saida"===e.type&&Number(e.value)})).reduce((function(e,t){return e+t}),0);j(t)}),[e]),Object(d.jsxs)("section",{className:v.a.container,children:[Object(d.jsx)("h1",{children:"Saldo"}),Object(d.jsxs)("span",{children:["R$ ",o]}),Object(d.jsx)("h1",{children:"Entrada"}),Object(d.jsxs)("span",{children:["R$ ",a]}),Object(d.jsx)("h1",{children:"Despesas"}),Object(d.jsxs)("span",{style:{color:"red"},children:["R$ ",l]})]})},y=n(35),_=n(36),S=n(15),N=n.n(S),D=function(){var e=Object(c.useContext)(p),t=e.financeData,n=Object(c.useState)(""),a=Object(O.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(""),j=Object(O.a)(i,2),o=j[0],u=j[1],h=Object(c.useState)(""),f=Object(O.a)(h,2),m=f[0],v=f[1],S=Object(c.useState)(""),D=Object(O.a)(S,2),C=D[0],k=D[1],T=Object(c.useState)(!1),E=Object(O.a)(T,2),F=E[0],H=E[1],R=Object(c.useState)(!1),w=Object(O.a)(R,2),U=w[0],A=w[1],$=Object(c.useState)(!1),L=Object(O.a)($,2),z=L[0],I=L[1],J=function(){r(""),u(""),v(!1),k("")};return Object(d.jsxs)("div",{className:N.a.home,children:[Object(d.jsxs)("section",{children:[Object(d.jsxs)("form",{className:N.a.form,children:[Object(d.jsx)("input",{type:"text",id:"titulo",value:s,onChange:function(e){return r(e.target.value)},placeholder:"Descri\xe7\xe3o",required:!0}),Object(d.jsx)("input",{type:"text",id:"valor",value:o,onChange:function(e){return u(e.target.value)},placeholder:"R$",required:!0}),Object(d.jsxs)("select",{id:"categoria",value:C,onChange:function(e){return k(e.target.value)},children:[Object(d.jsx)("option",{value:"",disabled:!0,children:"Selecione"}),Object(d.jsx)("option",{value:"alimenta\xe7\xe3o",children:"Alimenta\xe7\xe3o"}),Object(d.jsx)("option",{value:"casa",children:"Casa"}),Object(d.jsx)("option",{value:"despesas",children:"Despesas"}),Object(d.jsx)("option",{value:"impostos",children:"Impostos"}),Object(d.jsx)("option",{value:"laser",children:"Laser"}),Object(d.jsx)("option",{value:"sa\xfade",children:"Sa\xfade"}),Object(d.jsx)("option",{value:"trabalho",children:"Trabalho"})]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"radio",checked:"entrada"===m,value:"entrada",style:{width:"10px"},onChange:function(e){return v(e.target.value)}}),"Entrada"]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"radio",checked:"saida"===m,value:"saida",style:{width:"10px"},onChange:function(e){return v(e.target.value)}}),"Saida"]}),!0===F?Object(d.jsx)("button",{onClick:function(n){n.preventDefault();var c={title:s,value:o,type:m,category:C};x.patch("finances/".concat(U),c).then((function(n){if(200===n.status){var c=t.filter((function(e){return e.id!==n.data.id})),a=[].concat(Object(b.a)(c),[n.data]);e.setFinanceData(a)}})),J(),H(!1)},children:"Atualizar"}):Object(d.jsx)("button",{onClick:function(t){t.preventDefault();var n={title:s,value:o,type:m,category:C,date:function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),c=(String(e.getFullYear())%100).toString().padStart(2,0);return"".concat(t,"-").concat(n,"-").concat(c)}()};""!==n.title&&""!==n.value&&""!==n.type&&""!==n.category&&(e.setAddTransaction(n),J())},children:"Cadastrar"})]}),Object(d.jsx)(g,{})]}),Object(d.jsxs)("section",{children:[Object(d.jsxs)("table",{className:N.a.table,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:Object(d.jsx)("strong",{className:"my-teams-button",children:"Titulo"})}),Object(d.jsx)("th",{children:Object(d.jsx)("strong",{className:"my-teams-button",children:"Tipo"})}),Object(d.jsx)("th",{children:Object(d.jsx)("strong",{className:"my-teams-button",children:"Categoria"})}),Object(d.jsx)("th",{children:Object(d.jsx)("strong",{className:"my-teams-button",children:"Valor"})}),Object(d.jsx)("th",{children:Object(d.jsx)("strong",{className:"my-teams-button",children:"Data"})})]})}),Object(d.jsx)("tbody",{children:null!==t&&t.map((function(t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t.title}),Object(d.jsx)("td",{children:t.type}),Object(d.jsx)("td",{children:t.category}),"saida"===t.type?Object(d.jsx)("td",{style:{color:"red"},children:t.value}):Object(d.jsx)("td",{children:t.value}),Object(d.jsx)("td",{children:t.date}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{onClick:function(){return e.deleteTransaction(t.id)},children:Object(d.jsx)(y.a,{})})}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{onClick:function(){return function(t){H(!0),A(t);var n=e.financeData.filter((function(e){return e.id===t}));r(n[0].title),u(n[0].value),v(n[0].type),k(n[0].category)}(t.id)},children:Object(d.jsx)(_.a,{})})})]},t.id)}))})]}),Object(d.jsx)("button",{className:N.a.demonstrative,onClick:function(){return I(!0)},children:"Demonstrativo"}),!0===z&&Object(d.jsx)(l.a,{to:"demonstrative"})]})]})},C=(n(66),function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u,{}),Object(d.jsx)(D,{})]})}),k=n(16),T=n.n(k),E=function(){var e=Object(c.useContext)(p).financeData,t=Object(c.useState)(""),n=Object(O.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),i=Object(O.a)(r,2),j=i[0],o=i[1],b=Object(c.useState)(null),h=Object(O.a)(b,2),x=h[0],f=h[1],m=Object(c.useState)(null),v=Object(O.a)(m,2),g=v[0],y=v[1],_=Object(c.useState)(!1),S=Object(O.a)(_,2),N=S[0],D=S[1];return Object(c.useEffect)((function(){var t=null!==e&&e.filter((function(e){return e.type===a}));f(t);var n=null!==t&&!1!==t&&t.map((function(e){return e.type===a&&Number(e.value)})).reduce((function(e,t){return e+t}),0);y(n)}),[a]),Object(c.useEffect)((function(){var t=null!==e&&e.filter((function(e){return e.category===j}));f(t);var n=null!==t&&!1!==t&&t.map((function(e){return e.category===j&&Number(e.value)})).reduce((function(e,t){return e+t}),0);y(n)}),[j]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u,{}),Object(d.jsxs)("main",{className:T.a.container,children:[Object(d.jsxs)("section",{children:[Object(d.jsx)("button",{className:T.a.voltar,onClick:function(){return D(!0)},children:"Voltar"}),!0===N&&Object(d.jsx)(l.a,{to:"/"}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("select",{id:"tipo",value:a,onChange:function(e){return s(e.target.value)},children:[Object(d.jsx)("option",{value:"",disabled:!0,children:"Selecione"}),Object(d.jsx)("option",{value:"entrada",children:"Entrada"}),Object(d.jsx)("option",{value:"saida",children:"Saida"})]}),Object(d.jsxs)("select",{id:"categoria",value:j,onChange:function(e){return o(e.target.value)},children:[Object(d.jsx)("option",{value:"",disabled:!0,children:"Selecione"}),Object(d.jsx)("option",{value:"alimenta\xe7\xe3o",children:"Alimenta\xe7\xe3o"}),Object(d.jsx)("option",{value:"casa",children:"Casa"}),Object(d.jsx)("option",{value:"despesas",children:"Despesas"}),Object(d.jsx)("option",{value:"impostos",children:"Impostos"}),Object(d.jsx)("option",{value:"laser",children:"Laser"}),Object(d.jsx)("option",{value:"sa\xfade",children:"Sa\xfade"}),Object(d.jsx)("option",{value:"trabalho",children:"Trabalho"})]})]}),g>0&&Object(d.jsxs)("div",{className:T.a.saldo,children:[Object(d.jsx)("h1",{children:"Total"}),Object(d.jsxs)("span",{children:["R$ ",g]})]})]}),Object(d.jsx)("section",{children:null!==x&&!1!==x&&Object(d.jsxs)("table",{className:T.a.table,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:Object(d.jsx)("strong",{className:"my-teams-button",children:"Titulo"})}),Object(d.jsx)("th",{children:Object(d.jsx)("strong",{className:"my-teams-button",children:"Tipo"})}),Object(d.jsx)("th",{children:Object(d.jsx)("strong",{className:"my-teams-button",children:"Categoria"})}),Object(d.jsx)("th",{children:Object(d.jsx)("strong",{className:"my-teams-button",children:"Valor"})}),Object(d.jsx)("th",{children:Object(d.jsx)("strong",{className:"my-teams-button",children:"Data"})})]})}),Object(d.jsx)("tbody",{children:null!==x&&!1!==x&&x.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.title}),Object(d.jsx)("td",{children:e.type}),Object(d.jsx)("td",{children:e.category}),"saida"===e.type?Object(d.jsx)("td",{style:{color:"red"},children:e.value}):Object(d.jsx)("td",{children:e.value}),Object(d.jsx)("td",{children:e.date})]},e.id)}))})]})})]})]})};var F=function(){return Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{path:"/",exact:!0,component:C}),Object(d.jsx)(l.b,{path:"/demonstrative",exact:!0,component:E})]})};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(f,{children:Object(d.jsx)(F,{})})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.679f0bf6.chunk.js.map